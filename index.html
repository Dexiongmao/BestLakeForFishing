<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>BestFishing</title>
  <link type="text/css" rel="stylesheet" href="./css/bootstrap.min.css"></link>
  <script src="js/jquery3.31.js"></script>

  <style>
    /*初始化*/
    html, body {height: 100%;margin: 0;padding: 0;}

    .main {display: flex;}

    #map {flex: 0 0 350px;height: 600px;}

    .choice-group {flex: 1;}

    ul {background: springgreen}
  </style>
</head>

<body>
<div class="main">
  <div id="map"></div>
  <div class="choice-group">
    <ul class="checkbox">
      <li class="checkbox"><label for="choice1"><input type="checkbox" id="choice1">第一种类型</label></li>
      <li class="checkbox"><label for="choice2"><input type="checkbox" id="choice2">第一种类型</label></li>
    </ul>
  </div>
</div>
<input type="button" value="Spec_Reg">值有Y和N
    <script>
      var map
      var geoData

      function initMap () {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: new google.maps.LatLng(41.2033, -77.1945),
          mapTypeId: 'terrain'
        });

        $.ajax({
          url: './data/LakesEditedv2.json',
          success: (data) => {
            var geoData = data
            var 要找的鱼 = 'Rainbow'

            map.data.addGeoJson(geoData)

            for (var i = 0; i < data.features.length; i++) {
              var coords = []
              debugger
              console.log(data.features[i])
              console.log(data.features[i].properties)
              console.log(data.features[i].properties[''])
              if (data.features[i].properties[要找的鱼] === 'Yes') {
                debugger
                coords = data.features[i].geometry.coordinates
              }
            }

            var latLng = new google.maps.LatLng(coords[1], coords[0])
            var marker = new google.maps.Marker({
              position: latLng,
              map: map
            })

          }
        })
      }

      /*
       * data 操作 数据操作
       */
      // map.data.loadGeoJson()
      // map.data.addGeoJson(geoData)
      /*
       * marker 操作 标记操作
       * https://developers.google.com/maps/documentation/javascript/examples/marker-remove?hl=zh-cn
       */
      // marker.setMap(null);

      // window.eqfeed_callback = function (results) {
      //   for (var i = 0; i < results.features.length; i++) {
      //     var coords = []
      //     if (results.features[i].properties.Spec_Reg === 'Y') {
      //       coords = results.features[i].geometry.coordinates
      //     }
      //
      //     var latLng = new google.maps.LatLng(coords[1], coords[0])
      //     var marker = new google.maps.Marker({
      //       position: latLng,
      //       map: map
      //     })
      //   }
      //   // 这里写修改数据
      // }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBGLc9_Sa8DBtcnOagh24sIepOnjmDrLjo&callback=initMap">
    </script>

</body>
</html>
